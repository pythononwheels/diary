{% extends "base_logged_in.tmpl" %}

{% block css %}


{% end %}

{% block jumbotron %}
    <section class="jumbotron text-center">
      <div class="container">
        <h2 class="jumbotron-heading"> Erstelle einen neuen Eintrag</h1>
        <p class="lead text-muted">und halte einfach fest was dich gerade bewegt hat.</p>
      </div>
    </section>
{% end %}

{% block content %}

  <div class="container">
    <div class="row">
      <div class="col-sm-2">
        &nbsp;
      </div>
      
      <div class="col-sm-8">
        <form action="new" method="post">
        <div class="form-group row">
          <label for="post_title" class="col-sm-2 form-control-label">Titel</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="post_title" placeholder="Titel">
          </div>
        </div>
        <div class="form-group row">
          <label for="post_text" class="col-sm-2 form-control-label">Text</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="post_text" rows="5"></textarea>
          </div>
        </div>
        <div class="form-group row">
          <label for="post_tags" class="col-sm-2 form-control-label">Tags</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="post_tags" placeholder="Tag1, Tag2, Tag3">
          </div>
        </div>
        <div class="form-group row">
          <label for="post_photo" class="col-sm-2 form-control-label">Foto</label>
          <div class="col-sm-10">
            <input type="file" class="form-control-file" id="post_photo">
            <small class="text-muted">Hier kannst du ein Foto zu deinem Eintrag hinzuf√ºgen.</small>
          </div>
        </div>
        <input id="fileupload" type="file" name="files[]" data-url="server/php/" multiple>
        <div class="form-group row">
          <label class="col-sm-2">Ereignis</label>
          <div class="col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" id="post_is_event"> Ja, dies ist ein besonderes Ereignis.
              </label>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="post_event" class="col-sm-2 form-control-label">Ereignis</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="post_event" placeholder="Titel">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-2">love it</label>
          <div class="col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox"> Ja.
              </label>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-secondary">Erstellen</button>
          </div>
        </div>
      </form>

    </div>
    
    <div class="col-sm-2">
      &nbsp;
    </div>
  
  </div>
</div>

{% end %}    


{% block script %}

<script src="{{ static_url("jq_file_upload/js/vendor/jquery.ui.widget.js")}}"></script>
<!-- The Load Image plugin is included for the preview images and image resizing functionality -->
<script src="//blueimp.github.io/JavaScript-Load-Image/js/load-image.all.min.js"></script>
<!-- The Canvas to Blob plugin is included for image resizing functionality -->
<script src="//blueimp.github.io/JavaScript-Canvas-to-Blob/js/canvas-to-blob.min.js"></script>
<!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
<script src="{{ static_url("jq_file_upload/js/jquery.iframe-transport.js")}}"></script>
<!-- The basic File Upload plugin -->
<script src="{{ static_url("jq_file_upload/js/jquery.fileupload.js")}}"></script>
<!-- The File Upload processing plugin -->
<script src="{{ static_url("jq_file_upload/js/jquery.fileupload-process.js")}}"></script>
<!-- The File Upload image preview & resize plugin -->
<script src="{{ static_url("jq_file_upload/js/jquery.fileupload-image.js")}}"></script>
<!-- The File Upload audio preview plugin -->
<script src="{{ static_url("jq_file_upload/js/jquery.fileupload-audio.js")}}"></script>
<!-- The File Upload video preview plugin -->
<script src="{{ static_url("jq_file_upload/js/jquery.fileupload-video.js")}}"></script>
<!-- The File Upload validation plugin -->
<script src="{{ static_url("jq_file_upload/js/jquery.fileupload-validate.js")}}"></script>


<script>
$(function () {
    $('#fileupload').fileupload({
        dataType: 'json',
        done: function (e, data) {
            $.each(data.result.files, function (index, file) {
                $('<p/>').text(file.name).appendTo(document.body);
            });
        }
    });
});
</script>
{% end %}